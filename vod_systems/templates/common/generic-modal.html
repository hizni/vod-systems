{% load crispy_forms_tags %}
<div class="modal-dialog" role="document">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">Ã—</span>
                <span class="sr-only">Close</span>
            </button>
            <h4 class="modal-title">{{ view.view_title }}</h4>
        </div>
        <div class="modal-body">

            {% crispy form %}
        </div>
        <!--
        <div class="modal-footer" id="submit-div">
            <span class="pull-right">
                <button id="btnClose" class="btn btn-default">Close</button>
                <input type='submit' id='btnFoo' class="btn btn-success" />
            </span>
        </div>
        -->

    </div>
</div><!-- /.modal-dialog -->


<script>

    $(function () {
      $('#form').parsley()
        //.on('field:validated', function() {

        //this.$element.css('background-color', 'red')
        //this.$element.css('background-color', 'green')
        //this.$element.css('background-color', '')

        //var ok = $('.parsley-error').length === 0;
        //$('.bs-callout-info').toggleClass('hidden', !ok);
        //$('.bs-callout-warning').toggleClass('hidden', ok);
      //})

      /*
      .on('form:validate', function(formInstance){
          var ok = formInstance.isValid();


      })
      */
      .on('form:submit', function(e) {
          e.preventDefault();
          var form = $(this);
          form.parsley().validate();
      });
    });

    // experimented with adding footer buttons to table. Not using DataTables form submit buttons
/*
    $('#btnFoo').click(function() {
        alert('submitting form!');
         $('#form').submit();
    });

    $('#btnClose').click(function() {
        $('#modal').modal('hide');
    });
*/
</script>

